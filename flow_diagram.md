# JuicePOS Cashier System - Detailed Flow Diagrams

## Table of Contents
1. [System Architecture](#system-architecture)
2. [Complete User Journey Flow](#complete-user-journey-flow)
3. [Page Wireframes](#page-wireframes)
4. [Detailed Business Logic Flows](#detailed-business-logic-flows)
5. [State Diagrams](#state-diagrams)
6. [API Sequence Diagrams](#api-sequence-diagrams)
7. [Database Schema](#database-schema)
8. [Component Architecture](#component-architecture)

---

## System Architecture

### High-Level Architecture

```mermaid
graph TB
    subgraph "Client Layer"
        BROWSER[Web Browser]
    end

    subgraph "Presentation Layer"
        VITE[Vite Dev Server]
        ALPINE[Alpine.js Components]
        TAILWIND[Tailwind CSS 4]
        BLADE[Blade Templates]
    end

    subgraph "Application Layer"
        ROUTES[Routes web.php]
        MIDDLEWARE[Middleware]
        CONTROLLERS[Controllers]
        SERVICES[Services]
    end

    subgraph "Domain Layer"
        MODELS[Eloquent Models]
        VALIDATION[Request Validation]
    end

    subgraph "Data Layer"
        MYSQL[MariaDB]
        STORAGE[File Storage]
    end

    BROWSER --> VITE
    VITE --> ALPINE
    VITE --> TAILWIND
    VITE --> BLADE
    BLADE --> ROUTES
    ROUTES --> MIDDLEWARE
    MIDDLEWARE --> CONTROLLERS
    CONTROLLERS --> SERVICES
    SERVICES --> MODELS
    MODELS --> MYSQL
    MODELS --> STORAGE

    style BROWSER fill:#e3f2fd
    style CONTROLLERS fill:#c8e6c9
    style MODELS fill:#ffccbc
    style MYSQL fill:#fff9c4
```

### Request-Response Flow

```mermaid
sequenceDiagram
    actor User
    participant Browser
    participant Alpine as Alpine.js
    participant Server as Laravel Server
    participant Router
    participant Middleware
    participant Controller
    participant Model
    participant DB as Database

    User->>Browser: Click Action
    Browser->>Alpine: Trigger Event
    Alpine->>Browser: HTTP Request
    Browser->>Server: GET/POST Request
    Server->>Router: Route Matching
    Router->>Middleware: Auth/CSRF Check
    Middleware->>Controller: Pass Request
    Controller->>Model: Query Data
    Model->>DB: SQL Query
    DB-->>Model: Result Set
    Model-->>Controller: Eloquent Collection
    Controller->>Server: JSON Response / View
    Server-->>Browser: Response
    Browser-->>Alpine: Handle Response
    Alpine->>User: Update UI
```

---

## Complete User Journey Flow

### Master Flow Diagram

```mermaid
flowchart TD
    START([User Starts]) --> AUTH{Has Session?}

    AUTH -->|No| LOGIN[Login Page<br/>/login]
    LOGIN --> CREDENTIALS[Enter Email + Password]
    CREDENTIALS --> VALIDATE{Credentials Valid?}
    VALIDATE -->|No| LOGIN
    VALIDATE -->|Yes| CREATE_SESSION[Create Session]
    CREATE_SESSION --> HOME

    AUTH -->|Yes| HOME([Home Page<br/>/])

    HOME --> ROLE{User Role}

    ROLE -->|Cashier| POS[POS Page<br/>/pos]
    ROLE -->|Admin/Manager| DASHBOARD[Dashboard<br/>/admin]

    POS --> POS_FLOW[POS Transaction Flow]
    DASHBOARD --> ADMIN_FLOW[Admin Flow]

    POS_FLOW --> POS_COMPLETE
    ADMIN_FLOW --> DASHBOARD_OPTIONS

    DASHBOARD_OPTIONS --> NAV_PRODUCTS[Products Management]
    DASHBOARD_OPTIONS --> NAV_STOCK[Stock / Inventory]
    DASHBOARD_OPTIONS --> NAV_REPORTS[Sales Reports]
    DASHBOARD_OPTIONS --> NAV_SETTINGS[Settings]
    DASHBOARD_OPTIONS --> NAV_POS[Go to POS]

    NAV_PRODUCTS --> PRODUCTS_FLOW
    NAV_STOCK --> STOCK_FLOW
    NAV_REPORTS --> REPORTS_FLOW
    NAV_SETTINGS --> SETTINGS_FLOW
    NAV_POS --> POS

    PRODUCTS_FLOW --> DASHBOARD
    STOCK_FLOW --> DASHBOARD
    REPORTS_FLOW --> DASHBOARD
    SETTINGS_FLOW --> DASHBOARD
    POS_COMPLETE --> POS

    style LOGIN fill:#fff3e0
    style POS fill:#e1f5fe
    style DASHBOARD fill:#c8e6c9
    style PRODUCTS_FLOW fill:#ffccbc
    style STOCK_FLOW fill:#f8bbd9
    style REPORTS_FLOW fill:#e1bee7
    style SETTINGS_FLOW fill:#ffecb3
```

### Login Flow Detail

```mermaid
flowchart TD
    START[Visit /login] --> CHECK_AUTH{Already Logged In?}
    CHECK_AUTH -->|Yes| REDIRECT[Redirect to /pos]
    CHECK_AUTH -->|No| SHOW_FORM[Show Login Form]

    SHOW_FORM --> USER_INPUT[User enters email & password]
    USER_INPUT --> SUBMIT[Click Login Button]
    SUBMIT --> VALIDATE_FORM[Client-side Validation]

    VALIDATE_FORM -->|Invalid| SHOW_ERROR[Show Error Message]
    SHOW_ERROR --> SHOW_FORM

    VALIDATE_FORM -->|Valid| SEND_REQUEST[POST /login]
    SEND_REQUEST --> SERVER_AUTH{Server Authentication}

    SERVER_AUTH -->|Invalid Creds| SHOW_ERROR
    SERVER_AUTH -->|Valid| CREATE_SESSION[Create Session]
    CREATE_SESSION --> GET_ROLE{Get User Role}

    GET_ROLE -->|Admin| GO_ADMIN[Redirect to /admin]
    GET_ROLE -->|Cashier| GO_POS[Redirect to /pos]
    GET_ROLE -->|Manager| GO_ADMIN

    GO_ADMIN --> ADMIN_DASH[Admin Dashboard]
    GO_POS --> POS_PAGE[POS Page]

    style SHOW_ERROR fill:#ffcdd2
    style ADMIN_DASH fill:#c8e6c9
    style POS_PAGE fill:#e1f5fe
```

---

## Page Wireframes

### 1. Login Page Wireframe

```mermaid
flowchart TB
    subgraph LOGIN_PAGE["Login Page (/login) - 100% Width"]
        direction LR
        subgraph LEFT_PANEL["Left Panel - 60% - Branding"]
            LOGO["Logo: ğŸ¥¤ JuicePOS<br/>â”â”â”â”â”â”â”â”â”â”<br/>Point of Sale System"]
            SLOGAN["Slogan: Streamline Your Juice Business"]
        end

        subgraph RIGHT_PANEL["Right Panel - 40% - Login Form"]
            FORM_HEADER["Login to Your Account"]
            EMAIL_INPUT["â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”<br/>â”‚ ğŸ“§ Email Address            â”‚<br/>â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜"]
            PASSWORD_INPUT["â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”<br/>â”‚ ğŸ”’ Password                  â”‚<br/>â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜"]
            REMEMBER["â˜‘ Remember me    Forgot password?"]
            LOGIN_BTN["â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”<br/>â”‚      ğŸš€ LOGIN               â”‚<br/>â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜"]
            DIVIDER["â”â”â”â”â”â”â”â”â” OR â”â”â”â”â”â”â”â”â”"]
            SOCIAL["  ğŸŸ¢ Google    ğŸ”µ Facebook  "]
        end
    end

    style LOGO fill:#4caf50,color:#fff
    style LOGIN_BTN fill:#4caf50,color:#fff
    style LEFT_PANEL fill:#e8f5e9
    style RIGHT_PANEL fill:#fff
```

### 2. POS Page Wireframe

```mermaid
flowchart TB
    subgraph POS["POS Page (/pos) - Full Screen"]
        direction TB

        subgraph HEADER["Top Header - 64px"]
            LOGO["ğŸ¥¤ JuicePOS"]
            SEARCH["â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”<br/>â”‚ğŸ” Search item name or code (Alt+S)â”‚<br/>â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜"]
            USER["ğŸ‘¤ John Doe<br/>Cashier"]
        end

        subgraph MAIN["Main Content - Flex Row"]
            direction LR

            subgraph LEFT["Left Panel - 70% - Product Catalog"]
                CATEGORIES["[All Items] ğŸ¹Juices ğŸ¨Smoothies ğŸ¥—Bowls"]
                PRODUCTS_GRID["â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”<br/>â”‚ğŸ¥¤       â”‚ â”‚ğŸŠ       â”‚ â”‚ğŸ¥       â”‚<br/>â”‚Orange   â”‚ â”‚Mango    â”‚ â”‚Kiwi     â”‚<br/>â”‚$5.00    â”‚ â”‚$6.50    â”‚ â”‚$5.50    â”‚<br/>â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜<br/>â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”<br/>â”‚ğŸ“       â”‚ â”‚ğŸ¥­       â”‚ â”‚ğŸŒ       â”‚<br/>â”‚Strawberryâ”‚ â”‚Papaya   â”‚ â”‚Banana   â”‚<br/>â”‚$6.00    â”‚ â”‚$7.00    â”‚ â”‚$4.50    â”‚<br/>â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜"]
            end

            subgraph RIGHT["Right Panel - 30% - Current Order"]
                ORDER_HEADER["ğŸ§¾ Order #NEW      [Dine In â–¼]"]
                ACTIONS["[ğŸ‘¤ Customer] [ğŸ“ Note] [ğŸ—‘ï¸ Clear]"]

                CART_ITEMS["â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”<br/>â”‚ğŸ¥¤ Orange Juice              [- 1 +] $5.00â”‚<br/>â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤<br/>â”‚ğŸŠ Mango Smoothie            [- 2 +] $13.00â”‚<br/>â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤<br/>â”‚ğŸ¥ Kiwi Blast                [- 1 +] $5.50â”‚<br/>â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜"]

                TOTALS["Subtotal:     $23.50<br/>Tax (8%):      $1.88<br/>â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”<br/>TOTAL:        $25.38"]

                CHECKOUT_BTN["â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”<br/>â”‚       ğŸ’³ CHECKOUT (F12)          â”‚<br/>â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜"]
            end
        end
    end

    style HEADER fill:#263238,color:#fff
    style CATEGORIES fill:#4caf50,color:#fff
    style CHECKOUT_BTN fill:#4caf50,color:#fff
    style TOTALS fill:#fff3e0
    style LEFT fill:#f5f5f5
    style RIGHT fill:#fff
```

### 3. Payment Modal Wireframe

```mermaid
flowchart TB
    subgraph MODAL["Payment Modal - Centered - 500px"]
        MODAL_HEADER["â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤<br/>â”‚ Payment Details              [âœ•] â”‚<br/>â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€"]

        MODAL_BODY["<br>    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”<br/>    â”‚                            â”‚<br/>    â”‚      TOTAL DUE             â”‚<br/>    â”‚        $25.38              â”‚<br/>    â”‚                            â”‚<br/>    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜<br/><br/>    Payment Method<br/>    â”Œâ”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”<br/>    â”‚ ğŸ’µ   â”‚ â”‚ ğŸ“±   â”‚ â”‚ ğŸ’³   â”‚<br/>    â”‚ Cash â”‚ â”‚ QRIS â”‚ â”‚Debit â”‚<br/>    â””â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”˜<br/><br/>    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”<br/>    â”‚ Cash Received               â”‚<br/>    â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚<br/>    â”‚ â”‚ $30.00                 â”‚  â”‚<br/>    â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚<br/>    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜<br/><br/>    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”<br/>    â”‚ ğŸ’± Change Return      $4.62 â”‚<br/>    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜<br/><br/>    ğŸ–¨ï¸ Print Receipt?     [ğŸ”˜ ON]<br/>"]

        MODAL_FOOTER["â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”<br/>â”‚     Cancel       â”‚   Finalize Payment  â”‚<br/>â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜"]
    end

    style MODAL_HEADER fill:#37474f,color:#fff
    style MODAL_FOOTER fill:#fff
```

### 4. Dashboard Wireframe

```mermaid
flowchart TB
    subgraph DASH["Admin Dashboard (/admin)"]
        direction TB

        subgraph NAV["Sidebar Navigation - 250px"]
            LOGO["ğŸ¥¤ JuicePOS"]
            MENU["ğŸ“Š Dashboard<br/>ğŸ“¦ Products<br/>ğŸ“¦ Raw Materials<br/>ğŸ“ˆ Sales Reports<br/>âš™ï¸ Settings<br/>ğŸšª Logout"]
        end

        subgraph CONTENT["Main Content"]
            HEADER["Daily Performance Dashboard    ğŸ“… Jan 15, 2026"]

            METRICS["â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”<br/>â”‚ğŸ’µ Revenue  â”‚ â”‚ğŸ›’ Orders   â”‚ â”‚ğŸ¥¤ Items    â”‚ â”‚ğŸ“Š Avg Orderâ”‚<br/>â”‚ $1,250.00   â”‚ â”‚     45      â”‚ â”‚    120      â”‚ â”‚   $27.78    â”‚<br/>â”‚ â–²12.5%      â”‚ â”‚  Today      â”‚ â”‚  Sold       â”‚ â”‚            â”‚<br/>â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜"]

            CHARTS["â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”<br/>â”‚ Top Selling Items               â”‚ Recent Stock Usage (BOM)       â”‚<br/>â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤<br/>â”‚ ğŸ¥¤ Orange Juice    25  $125.00  â”‚ ğŸŠ Oranges        50 pcs  OUT â”‚<br/>â”‚ ğŸŠ Mango Smoothie  20  $130.00  â”‚ ğŸ¥› Milk            5 L    OUT â”‚<br/>â”‚ ğŸ¥ Kiwi Blast      18  $99.00   â”‚ ğŸ§ˆ Sugar          2 kg   LOW â”‚<br/>â”‚ ğŸ“ Strawberry      15  $90.00   â”‚ ğŸ¥¤ Cups            100 pcs OK â”‚<br/>â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜"]
        end
    end

    style NAV fill:#263238,color:#fff
    style MENU fill:#37474f,color:#fff
    style METRICS fill:#e3f2fd
    style CHARTS fill:#fff
```

### 5. Products Management Wireframe

```mermaid
flowchart TB
    subgraph PRODUCTS["Products Management (/admin/products)"]
        direction TB

        subgraph NAV["Sidebar Navigation"]
            LOGO["ğŸ¥¤ JuicePOS"]
            MENU["ğŸ“Š Dashboard<br/>ğŸ“¦ Products âœ…<br/>ğŸ“¦ Raw Materials<br/>ğŸ“ˆ Sales Reports<br/>âš™ï¸ Settings"]
        end

        subgraph CONTENT["Main Content"]
            HEADER["Inventory Management     [+ Add New Product]"]

            STATS["â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”<br/>â”‚ Total   â”‚ â”‚ Active  â”‚ â”‚ Out of  â”‚ â”‚ Low     â”‚<br/>â”‚   25    â”‚ â”‚   22    â”‚ â”‚   1     â”‚ â”‚   2     â”‚<br/>â”‚ Productsâ”‚ â”‚ Items   â”‚ â”‚ Stock   â”‚ â”‚ Stock   â”‚<br/>â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜"]

            SEARCH_FILTER["â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”<br/>â”‚ğŸ” Search products...        â”‚<br/>â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜<br/>Category: [All â–¼]    Status: [All â–¼]"]

            TABLE["â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”<br/>â”‚ Product â”‚ Category â”‚ Price  â”‚ Stock â”‚ Status â”‚ Actions          â”‚<br/>â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤<br/>â”‚ğŸ¥¤ Orangeâ”‚ Juices   â”‚ $5.00  â”‚ 45    â”‚âœ…Activeâ”‚ [âœï¸] [ğŸ—‘ï¸]       â”‚<br/>â”‚  Juice  â”‚          â”‚        â”‚ cups  â”‚        â”‚                  â”‚<br/>â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤<br/>â”‚ğŸŠ Mango â”‚ Smoothiesâ”‚ $6.50  â”‚ 0     â”‚âš ï¸Out   â”‚ [âœï¸] [ğŸ—‘ï¸]       â”‚<br/>â”‚Smoothieâ”‚          â”‚        â”‚ cups  â”‚ ofStockâ”‚                  â”‚<br/>â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤<br/>â”‚ğŸ¥ Kiwi  â”‚ Juices   â”‚ $5.50  â”‚ 8     â”‚ğŸŸ¡Low   â”‚ [âœï¸] [ğŸ—‘ï¸]       â”‚<br/>â”‚ Blast  â”‚          â”‚        â”‚ cups  â”‚ Stock  â”‚                  â”‚<br/>â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜"]

            PAGINATION["â—€ Previous  [1] [2] [3] ... [10]  Next â–¶"]
        end
    end

    style NAV fill:#263238,color:#fff
    style MENU fill:#37474f,color:#fff
    style HEADER fill:#4caf50,color:#fff
    style STATS fill:#e3f2fd
    style TABLE fill:#fff
```

### 6. Product Create/Edit Form Wireframe

```mermaid
flowchart TB
    subgraph PRODUCT_FORM["Product Form (/admin/products/create or /edit)"]
        direction TB

        HEADER["Create New Product" or "Edit Product: Orange Juice"]

        FORM["â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”<br/>â”‚                                                                  â”‚<br/>â”‚  Product Information                                              â”‚<br/>â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                          â”‚<br/>â”‚                                                                  â”‚<br/>â”‚  Product Name *                                                   â”‚<br/>â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚<br/>â”‚  â”‚ Orange Juice                                              â”‚    â”‚<br/>â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚<br/>â”‚                                                                  â”‚<br/>â”‚  Category *              Price *                                 â”‚<br/>â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚<br/>â”‚  â”‚ Juices       â–¼â”‚     â”‚ $5.00                              â”‚       â”‚<br/>â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚<br/>â”‚                                                                  â”‚<br/>â”‚  Product Image                                                    â”‚<br/>â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚<br/>â”‚  â”‚  ğŸ“· Upload Image                                          â”‚    â”‚<br/>â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                        â”‚    â”‚<br/>â”‚  â”‚  â”‚                â”‚  [Remove]                             â”‚    â”‚<br/>â”‚  â”‚  â”‚  200x200       â”‚                                        â”‚    â”‚<br/>â”‚  â”‚  â”‚  Preview       â”‚                                        â”‚    â”‚<br/>â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                        â”‚    â”‚<br/>â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚<br/>â”‚                                                                  â”‚<br/>â”‚  Status              Is Active? â˜‘                                 â”‚<br/>â”‚                                                                  â”‚<br/>â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚<br/>â”‚                                                                  â”‚<br/>â”‚  Recipe (BOM) - Raw Materials Required                          â”‚<br/>â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                     â”‚<br/>â”‚                                                                  â”‚<br/>â”‚  [+ Add Material]                                                â”‚<br/>â”‚                                                                  â”‚<br/>â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚<br/>â”‚  â”‚ ğŸŠ Oranges              [Quantity] 2 [Unit] pcs           â”‚  â”‚<br/>â”‚  â”‚                                               [ğŸ—‘ï¸ Remove] â”‚  â”‚<br/>â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚<br/>â”‚  â”‚ ğŸ¥› Milk                 [Quantity] 0.3 [Unit] L            â”‚  â”‚<br/>â”‚  â”‚                                               [ğŸ—‘ï¸ Remove] â”‚  â”‚<br/>â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚<br/>â”‚  â”‚ ğŸ§ˆ Sugar               [Quantity] 1 [Unit] tbsp           â”‚  â”‚<br/>â”‚  â”‚                                               [ğŸ—‘ï¸ Remove] â”‚  â”‚<br/>â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚<br/>â”‚                                                                  â”‚<br/>â”‚  [+ Add Another Material]                                        â”‚<br/>â”‚                                                                  â”‚<br/>â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜"]

        ACTIONS["â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”<br/>â”‚   Cancel     â”‚   ğŸ’¾ Save Product    â”‚<br/>â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜"]
    end

    style HEADER fill:#4caf50,color:#fff
    style ACTIONS fill:#fff
```

### 7. Raw Materials / Inventory Wireframe

```mermaid
flowchart TB
    subgraph MATERIALS["Raw Materials (/admin/raw-materials)"]
        direction TB

        subgraph NAV["Sidebar Navigation"]
            LOGO["ğŸ¥¤ JuicePOS"]
            MENU["ğŸ“Š Dashboard<br/>ğŸ“¦ Products<br/>ğŸ“¦ Raw Materials âœ…<br/>ğŸ“ˆ Sales Reports<br/>âš™ï¸ Settings"]
        end

        subgraph CONTENT["Main Content"]
            HEADER["Inventory (Raw Materials)     [+ Add New Material]"]

            STATS["â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”<br/>â”‚ Total   â”‚ â”‚ In Stockâ”‚ â”‚ Out of  â”‚ â”‚ Low     â”‚<br/>â”‚   18    â”‚ â”‚   14    â”‚ â”‚   2     â”‚ â”‚   2     â”‚<br/>â”‚ Items   â”‚ â”‚ Items   â”‚ â”‚ Stock   â”‚ â”‚ Stock   â”‚<br/>â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜"]

            TABLE["â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”<br/>â”‚ Material Name           â”‚ Current Stock â”‚ Min Levelâ”‚ Status   â”‚ Actionsâ”‚<br/>â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤<br/>â”‚ğŸ“¦ Oranges                â”‚ 150 pcs        â”‚ 50 pcs    â”‚âœ… Good    â”‚[âœï¸]    â”‚<br/>â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤<br/>â”‚ğŸ¥› Milk                    â”‚ 2 L            â”‚ 10 L      â”‚ğŸ”´ Out     â”‚[âœï¸][ğŸ“¦]â”‚<br/>â”‚                          â”‚                â”‚           â”‚of Stock   â”‚        â”‚<br/>â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤<br/>â”‚ğŸ§ˆ Sugar                   â”‚ 0.8 kg         â”‚ 2 kg      â”‚ğŸŸ¡ Low     â”‚[âœï¸][ğŸ“¦]â”‚<br/>â”‚                          â”‚                â”‚           â”‚Stock     â”‚        â”‚<br/>â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤<br/>â”‚ğŸ¥¤ Plastic Cups            â”‚ 45 pcs         â”‚ 100 pcs   â”‚ğŸŸ¡ Low     â”‚[âœï¸][ğŸ“¦]â”‚<br/>â”‚                          â”‚                â”‚           â”‚Stock     â”‚        â”‚<br/>â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜"]

            LEGEND["âœ… Good  ğŸ”´ Out of Stock  ğŸŸ¡ Low Stock  ğŸ“¦ Restock"]
        end
    end

    style NAV fill:#263238,color:#fff
    style MENU fill:#37474f,color:#fff
    style HEADER fill:#4caf50,color:#fff
    style STATS fill:#e3f2fd
    style TABLE fill:#fff
```

### 8. Restock Modal Wireframe

```mermaid
flowchart TB
    subgraph RESTOCK["Restock Modal"]
        MODAL_HEADER["â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤<br/>â”‚ Restock: Oranges              [âœ•] â”‚<br/>â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€"]

        MODAL_BODY["<br/>    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”<br/>    â”‚ Current Stock:  2 pcs          â”‚<br/>    â”‚ Min Stock Level: 50 pcs          â”‚<br/>    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜<br/><br/>    Quantity to Add *<br/>    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”<br/>    â”‚ 100                              â”‚<br/>    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜<br/>    New Stock: 102 pcs<br/><br/>    Supplier<br/>    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”<br/>    â”‚ Fresh Farms Inc.                â”‚<br/>    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜<br/><br/>    Unit Cost<br/>    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”<br/>    â”‚ $0.50 per pcs                   â”‚<br/>    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜<br/>    Total Cost: $50.00<br/><br/>    Notes<br/>    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”<br/>    â”‚ Weekly restock                  â”‚<br/>    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜"]

        MODAL_FOOTER["â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”<br/>â”‚     Cancel       â”‚   âœ… Add Stock        â”‚<br/>â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜"]
    end

    style MODAL_HEADER fill:#37474f,color:#fff
```

### 9. Sales Reports Wireframe

```mermaid
flowchart TB
    subgraph REPORTS["Sales Reports (/admin/reports)"]
        direction TB

        subgraph NAV["Sidebar Navigation"]
            LOGO["ğŸ¥¤ JuicePOS"]
            MENU["ğŸ“Š Dashboard<br/>ğŸ“¦ Products<br/>ğŸ“¦ Raw Materials<br/>ğŸ“ˆ Sales Reports âœ…<br/>âš™ï¸ Settings"]
        end

        subgraph CONTENT["Main Content"]
            HEADER["Sales Reports"]

            FILTERS["â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”<br/>â”‚ ğŸ“… Date Range: [Jan 1, 2026] to [Jan 15, 2026]                    â”‚<br/>â”‚ ğŸ“Š Report Type: [Revenue â–¼]  ğŸ“¥ Export: [CSV â–¼] [Generate]        â”‚<br/>â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜"]

            SUMMARY["â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”<br/>â”‚ Total Revenue   â”‚ â”‚ Orders          â”‚ â”‚ Avg Order       â”‚<br/>â”‚ $18,750.00      â”‚ â”‚ 456             â”‚ â”‚ $41.12          â”‚<br/>â”‚ â–² +15.3%        â”‚ â”‚ â–² +8.2%         â”‚ â”‚ â–² +6.5%         â”‚<br/>â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜"]

            CHART["â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”<br/>â”‚                          Revenue Chart (Jan 1-15)                   â”‚<br/>â”‚  $500â”‚                                             â•±â•²                â”‚<br/>â”‚  $400â”‚                                    â•±â•²      â•±  â•²              â”‚<br/>â”‚  $300â”‚                            â•±â•²      â•±  â•²    â•±    â•²            â”‚<br/>â”‚  $200â”‚                    â•±â•²      â•±  â•²    â•±    â•²  â•±      â•²         â”‚<br/>â”‚  $100â”‚            â•±â•²      â•±  â•²    â•±    â•²  â•±      â•²â•±        â•²       â”‚<br/>â”‚    $0â””â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”‚<br/>â”‚        Jan 1   Jan 4   Jan 7   Jan 10  Jan 13  Jan 15             â”‚<br/>â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜"]

            TABLE["â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”<br/>â”‚ Date                    â”‚ Orders â”‚ Revenue â”‚ Items â”‚ Avg Order â”‚<br/>â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤<br/>â”‚ Jan 15, 2026            â”‚ 32     â”‚ $1,320   â”‚ 89    â”‚ $41.25    â”‚<br/>â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤<br/>â”‚ Jan 14, 2026            â”‚ 28     â”‚ $1,150   â”‚ 76    â”‚ $41.07    â”‚<br/>â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤<br/>â”‚ Jan 13, 2026            â”‚ 35     â”‚ $1,435   â”‚ 95    â”‚ $41.00    â”‚<br/>â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤<br/>â”‚ ...                     â”‚ ...    â”‚ ...      â”‚ ...   â”‚ ...       â”‚<br/>â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜"]
        end
    end

    style NAV fill:#263238,color:#fff
    style MENU fill:#37474f,color:#fff
    style HEADER fill:#4caf50,color:#fff
    style SUMMARY fill:#e3f2fd
    style CHART fill:#fff
```

### 10. Settings Page Wireframe

```mermaid
flowchart TB
    subgraph SETTINGS["Settings (/admin/settings)"]
        direction TB

        subgraph NAV["Sidebar Navigation"]
            LOGO["ğŸ¥¤ JuicePOS"]
            MENU["ğŸ“Š Dashboard<br/>ğŸ“¦ Products<br/>ğŸ“¦ Raw Materials<br/>ğŸ“ˆ Sales Reports<br/>âš™ï¸ Settings âœ…"]
        end

        subgraph CONTENT["Main Content"]
            HEADER["System Settings"]

            TABS["[General] [Payment] [Tax] [Users] [Receipts]"]

            FORM["â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”<br/>â”‚                                                                  â”‚<br/>â”‚  Store Information                                               â”‚<br/>â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                            â”‚<br/>â”‚                                                                  â”‚<br/>â”‚  Store Name *                                                    â”‚<br/>â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚<br/>â”‚  â”‚ JuicePOS                                                  â”‚    â”‚<br/>â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚<br/>â”‚                                                                  â”‚<br/>â”‚  Store Address                                                   â”‚<br/>â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚<br/>â”‚  â”‚ 123 Juice Street, Beverage City, BC 12345                 â”‚    â”‚<br/>â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚<br/>â”‚                                                                  â”‚<br/>â”‚  Store Phone                         Store Email                 â”‚<br/>â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚<br/>â”‚  â”‚ +1 555-0123      â”‚                â”‚ info@juicepos.com   â”‚      â”‚<br/>â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚<br/>â”‚                                                                  â”‚<br/>â”‚  Store Logo                                                      â”‚<br/>â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚<br/>â”‚  â”‚  [ğŸ“· Browse...]  Current: [juicepos-logo.png] [Remove]     â”‚    â”‚<br/>â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚<br/>â”‚                                                                  â”‚<br/>â”‚  Currency         Timezone                                      â”‚<br/>â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                        â”‚<br/>â”‚  â”‚ USD ($)   â–¼â”‚   â”‚ UTC â–¼             â”‚                        â”‚<br/>â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                        â”‚<br/>â”‚                                                                  â”‚<br/>â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜"]

            ACTIONS["â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”<br/>â”‚                 ğŸ’¾ Save Settings                     â”‚<br/>â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜"]
        end
    end

    style NAV fill:#263238,color:#fff
    style MENU fill:#37474f,color:#fff
    style HEADER fill:#4caf50,color:#fff
    style ACTIONS fill:#4caf50,color:#fff
```

### 11. Receipt Wireframe

```mermaid
flowchart TB
    subgraph RECEIPT["Thermal Receipt (80mm width)"]
        RECEIPT_CONTENT["<br>    â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—<br/>    â•‘          ğŸ¥¤ JUICEPOS                   â•‘<br/>    â•‘       123 Juice Street                â•‘<br/>    â•‘       Tel: +1 555-0123                â•‘<br/>    â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£<br/>    â•‘                                        â•‘<br/>    â•‘  Order #: ORD-0001                     â•‘<br/>    â•‘  Date: Jan 15, 2026 14:30             â•‘<br/>    â•‘  Cashier: John Doe                     â•‘<br/>    â•‘                                        â•‘<br/>    â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£<br/>    â•‘  ITEM              QTY    PRICE        â•‘<br/>    â•‘  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€        â•‘<br/>    â•‘  Orange Juice       2     $10.00       â•‘<br/>    â•‘  Mango Smoothie     1     $6.50        â•‘<br/>    â•‘  Kiwi Blast         1     $5.50        â•‘<br/>    â•‘                                        â•‘<br/>    â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£<br/>    â•‘  Subtotal:               $22.00        â•‘<br/>    â•‘  Tax (8%):                $1.76        â•‘<br/>    â•‘  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€         â•‘<br/>    â•‘  TOTAL:                  $23.76        â•‘<br/>    â•‘                                        â•‘<br/>    â•‘  Paid: CASH               $25.00        â•‘<br/>    â•‘  Change:                 $1.24         â•‘<br/>    â•‘                                        â•‘<br/>    â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£<br/>    â•‘     Thank you for visiting!           â•‘<br/>    â•‘        Please come again!              â•‘<br/>    â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"]
    end

    style RECEIPT_CONTENT fill:#fff
```

---

## Detailed Business Logic Flows

### 1. Complete POS Checkout Flow

```mermaid
flowchart TD
    START([Cashier Starts]) --> SCAN_ITEM[Customer Requests Items]

    SCAN_ITEM --> SEARCH{Search Method}
    SEARCH -->|Type Name| NAME_SEARCH[Search by Name]
    SEARCH -->|Scan Barcode| BARCODE_SEARCH[Search by Barcode]

    NAME_SEARCH --> FILTER_RESULTS[Filter Products]
    BARCODE_SEARCH --> FILTER_RESULTS

    FILTER_RESULTS --> ADD_CART[Click Product to Add]
    ADD_CART --> CART_UPDATE{Item in Cart?}

    CART_UPDATE -->|Yes| INCREMENT[Quantity +1]
    CART_UPDATE -->|No| ADD_NEW[Add to Cart]

    INCREMENT --> CART_DISPLAY[Update Cart Display]
    ADD_NEW --> CART_DISPLAY

    CART_DISPLAY --> MORE_ITEMS{More Items?}

    MORE_ITEMS -->|Yes| SCAN_ITEM
    MORE_ITEMS -->|No| CHECKOUT_BTN[Click Checkout Button]

    CHECKOUT_BTN --> PAYMENT_MODAL[Show Payment Modal]

    PAYMENT_MODAL --> SELECT_METHOD{Select Payment Method}

    SELECT_METHOD -->|Cash| CASH_FLOW
    SELECT_METHOD -->|QRIS| QRIS_FLOW
    SELECT_METHOD -->|Debit| DEBIT_FLOW

    CASH_FLOW[Enter Cash Amount] --> CALC_CHANGE[Calculate Change]
    CALC_CHANGE --> CASH_SUFF{Cash Sufficient?}

    CASH_SUFF -->|No| SHOW_ERROR[Show Error: Insufficient Cash]
    SHOW_ERROR --> CASH_FLOW

    CASH_SUFF -->|Yes| CONFIRM_BTN

    QRIS_FLOW[Show QR Code] --> WAIT_QR[Wait for Payment]
    WAIT_QR --> QR_CONFIRM{QR Payment Confirmed?}

    QR_CONFIRM -->|No| QR_TIMEOUT[Timeout: Cancel Transaction]
    QR_CONFIRM -->|Yes| CONFIRM_BTN

    DEBIT_FLOW[Insert Card] --> WAIT_DEBIT[Wait for Approval]
    WAIT_DEBIT --> DEBIT_RESULT{Approved?}

    DEBIT_RESULT -->|No| DECLINED[Show: Declined]
    DEBIT_RESULT -->|Yes| CONFIRM_BTN

    CONFIRM_BTN[Click Finalize] --> SEND_REQUEST[POST /checkout]

    SEND_REQUEST --> SERVER_PROCESS[Server Processing]

    SERVER_PROCESS --> VALIDATE{Validate Request}

    VALIDATE -->|Invalid| VALIDATION_ERROR[Return Error]
    VALIDATION_ERROR --> PAYMENT_MODAL

    VALIDATE -->|Valid| BEGIN_TRANSACTION[Begin DB Transaction]

    BEGIN_TRANSACTION --> CREATE_ORDER[Create Order Record]

    CREATE_ORDER --> ORDER_ITEMS_LOOP{Process Cart Items}

    ORDER_ITEMS_LOOP -->|Next Item| CREATE_ORDER_ITEM[Create OrderItem]
    CREATE_ORDER_ITEM --> GET_RECIPE[Get ProductRecipe/BOM]

    GET_RECIPE --> RECIPE_EXISTS{Has Recipe?}

    RECIPE_EXISTS -->|No| ORDER_ITEMS_LOOP
    RECIPE_EXISTS -->|Yes| PROCESS_RECIPE[Process Recipe Materials]

    PROCESS_RECIPE --> MATERIAL_LOOP{Loop Materials}

    MATERIAL_LOOP -->|Next Material| CALC_NEED[Calculate Needed =<br/>qty Ã— recipe_qty]

    CALC_NEED --> CHECK_CURRENT[Get Current Stock]

    CHECK_CURRENT --> STOCK_AVAILABLE{Stock >= Needed?}

    STOCK_AVAILABLE -->|No| ROLLBACK[Rollback Transaction]
    ROLLBACK --> STOCK_ERROR[Return: Insufficient Stock]

    STOCK_AVAILABLE -->|Yes| CREATE_TRANS[Create StockTransaction<br/>type: 'out']

    CREATE_TRANS --> UPDATE_STOCK[UPDATE raw_materials<br/>current_stock = current_stock - needed]

    UPDATE_STOCK --> MATERIAL_LOOP

    MATERIAL_LOOP -->|Done| ORDER_ITEMS_LOOP

    ORDER_ITEMS_LOOP -->|Done| COMMIT[Commit Transaction]

    COMMIT --> SUCCESS_RESPONSE[Return Success + order_id]

    SUCCESS_RESPONSE --> SHOW_SUCCESS[Show Success Notification]
    SHOW_SUCCESS --> PRINT_CHECK{Print Receipt?}

    PRINT_CHECK -->|Yes| GENERATE_RECEIPT[Generate Receipt HTML]
    PRINT_CHECK -->|No| CLEAR_CART_FLOW

    GENERATE_RECEIPT --> PRINT_DIALOG[Open Print Dialog]
    PRINT_DIALOG --> CLEAR_CART_FLOW[Clear Cart]

    CLEAR_CART_FLOW --> READY([Ready for Next Order])

    style VALIDATION_ERROR fill:#ffcdd2
    style STOCK_ERROR fill:#ffcdd2
    style ROLLBACK fill:#ffcdd2
    style SUCCESS_RESPONSE fill:#c8e6c9
    style READY fill:#c8e6c9
```

### 2. Product Recipe (BOM) Calculation Flow

```mermaid
flowchart TD
    START([Product Sold]) --> INPUT[Input: Order Details]

    INPUT --> PARSE{Parse Order Items}

    PARSE -->|For Each Item| GET_PRODUCT[Get Product Data]

    GET_PRODUCT --> GET_RECIPES[SELECT * FROM product_recipes<br/>WHERE product_id = ?]

    GET_RECIPES --> RECIPES_EXIST{Recipes Found?}

    RECIPES_EXISTS -->|No| NEXT_ITEM[Skip to Next Item]
    RECIPES_EXISTS -->|Yes| LOOP_MATERIALS[Loop Through Materials]

    LOOP_MATERIALS -->|For Each Material| GET_MATERIAL_INFO[Get RawMaterial Info]

    GET_MATERIAL_INFO --> CALCULATE[Calculate:<br/>qty_needed = order_qty Ã— recipe_qty]

    CALCULATE --> CHECK_STOCK{Check Availability<br/>current_stock >= qty_needed}

    CHECK_STOCK -->|No| ERROR_INSUFFICIENT[Error: Insufficient Stock<br/>Material: {name}<br/>Available: {current_stock}<br/>Needed: {qty_needed}]

    ERROR_INSUFFICIENT --> STOP([âŒ Fail Transaction])

    CHECK_STOCK -->|Yes| CREATE_TRANSACTION[INSERT StockTransaction:<br/>- raw_material_id<br/>- type = 'out'<br/>- quantity = qty_needed<br/>- description = 'Sold in Order #X'<br/>- reference_id = order_id]

    CREATE_TRANSACTION --> UPDATE_RAW[UPDATE raw_materials:<br/>current_stock = current_stock - qty_needed]

    UPDATE_RAW --> MORE_MATERIALS{More Materials?}

    MORE_MATERIALS -->|Yes| LOOP_MATERIALS
    MORE_MATERIALS -->|No| NEXT_ITEM

    NEXT_ITEM --> MORE_ITEMS{More Items?}

    MORE_ITEMS -->|Yes| PARSE
    MORE_ITEMS -->|No| COMPLETE([âœ… All Stock Deducted])

    style ERROR_INSUFFICIENT fill:#ffcdd2
    style STOP fill:#ffcdd2
    style COMPLETE fill:#c8e6c9
```

### 3. Stock Alert & Notification Flow

```mermaid
flowchart TD
    START([Stock Changed]) --> TRIGGER[Stock Transaction Created]

    TRIGGER --> GET_MATERIAL[Get RawMaterial Data]

    GET_MATERIAL --> CALC_THRESHOLD[Calculate Threshold Status]

    CALC_THRESHOLD --> CHECK_CRITICAL{current_stock <= 0?}

    CHECK_CRITICAL -->|Yes| CRITICAL_ALERT[ğŸ”´ CRITICAL: Out of Stock!]
    CRITICAL_ALERT --> NOTIFY_CRITICAL[Notify:<br/>- Dashboard Alert<br/>- Email Notification<br/>- Update Status Badge]

    CHECK_CRITICAL -->|No| CHECK_LOW{current_stock <= min_stock_level?}

    CHECK_LOW -->|Yes| LOW_ALERT[ğŸŸ¡ WARNING: Low Stock]
    LOW_ALERT --> NOTIFY_LOW[Notify:<br/>- Dashboard Warning<br/>- Update Status Badge]

    CHECK_LOW -->|No| NORMAL_STATUS[âœ… Normal Stock Level]
    NORMAL_STATUS -> UPDATE_OK[Update Status: Good]

    NOTIFY_CRITICAL --> UPDATE_MATERIAL[UPDATE raw_materials<br/>status = 'out_of_stock']
    NOTIFY_LOW --> UPDATE_MATERIAL
    UPDATE_OK --> UPDATE_MATERIAL

    UPDATE_MATERIAL --> LOG[Log to Stock History]
    LOG --> DASHBOARD_UPDATE[Update Dashboard Widgets]
    DASHBOARD_UPDATE --> COMPLETE([Done])

    style CRITICAL_ALERT fill:#ffcdd2
    style LOW_ALERT fill:#fff9c4
    style NORMAL_STATUS fill:#c8e6c9
    style COMPLETE fill:#c8e6c9
```

### 4. Product Management CRUD Flow

```mermaid
flowchart TD
    START([Admin Access]) --> NAVIGATE[Navigate to Products]

    NAVIGATE --> LIST_PAGE[Products List Page]

    LIST_PAGE --> ACTION{Choose Action}

    ACTION -->|Create| CREATE_FLOW
    ACTION -->|Edit| EDIT_FLOW
    ACTION -->|Delete| DELETE_FLOW
    ACTION -->|View Recipe| RECIPE_FLOW
    ACTION -->|Search/Filter| FILTER_FLOW

    FILTER_FLOW[Apply Filters] --> LIST_PAGE

    CREATE_FLOW[Click 'Add New'] --> CREATE_FORM[Show Create Form]
    CREATE_FORM --> FILL_DETAILS[Fill Product Details]
    FILL_DETAILS --> UPLOAD_IMAGE{Upload Image?}
    UPLOAD_IMAGE -->|Yes| HANDLE_UPLOAD[Upload & Store Path]
    UPLOAD_IMAGE -->|No| ADD_RECIPE
    HANDLE_UPLOAD --> ADD_RECIPE[Add Recipe Materials]
    ADD_RECIPE --> SUBMIT_CREATE[Click Save]
    SUBMIT_CREATE --> VALIDATE_CREATE{Validate}
    VALIDATE_CREATE -->|Invalid| SHOW_ERROR_CREATE[Show Errors]
    SHOW_ERROR_CREATE --> CREATE_FORM
    VALIDATE_CREATE -->|Valid| INSERT_PRODUCT[INSERT Product]
    INSERT_PRODUCT --> INSERT_RECIPES[INSERT ProductRecipes]
    INSERT_RECIPES --> SUCCESS_CREATE[âœ… Product Created]
    SUCCESS_CREATE --> LIST_PAGE

    EDIT_FLOW[Click Edit on Product] --> EDIT_FORM[Show Edit Form<br/>Pre-filled]
    EDIT_FORM --> UPDATE_DETAILS[Modify Details]
    UPDATE_DETAILS --> UPDATE_IMAGE{Change Image?}
    UPDATE_IMAGE -->|Yes| HANDLE_UPDATE[Upload New / Remove Old]
    UPDATE_IMAGE -->|No| UPDATE_RECIPE
    HANDLE_UPDATE --> UPDATE_RECIPE[Update Recipe Materials]
    UPDATE_RECIPE --> SUBMIT_EDIT[Click Update]
    SUBMIT_EDIT --> VALIDATE_EDIT{Validate}
    VALIDATE_EDIT -->|Invalid| SHOW_ERROR_EDIT[Show Errors]
    SHOW_ERROR_EDIT --> EDIT_FORM
    VALIDATE_EDIT -->|Valid| UPDATE_PRODUCT[UPDATE Product]
    UPDATE_PRODUCT --> UPDATE_RECIPES_DB[DELETE old + INSERT new Recipes]
    UPDATE_RECIPES_DB --> SUCCESS_EDIT[âœ… Product Updated]
    SUCCESS_EDIT --> LIST_PAGE

    DELETE_FLOW[Click Delete] --> CONFIRM_DELETE{Confirm?}
    CONFIRM_DELETE -->|No| LIST_PAGE
    CONFIRM_DELETE -->|Yes| CHECK_ORDERS{Has Orders?}
    CHECK_ORDERS -->|Yes| ERROR_DELETE[âŒ Cannot Delete<br/>Has order history]
    ERROR_DELETE --> LIST_PAGE
    CHECK_ORDERS -->|No| SOFT_DELETE[Soft Delete Product]
    SOFT_DELETE --> SUCCESS_DELETE[âœ… Product Deleted]
    SUCCESS_DELETE --> LIST_PAGE

    RECIPE_FLOW[Click 'View Recipe'] --> RECIPE_MODAL[Show BOM/Recipe Modal]
    RECIPE_MODAL --> SHOW_MATERIALS[Display Required Materials]
    SHOW_MATERIALS --> CLOSE_RECIPE[Close Modal]
    CLOSE_RECIPE --> LIST_PAGE

    style SUCCESS_CREATE fill:#c8e6c9
    style SUCCESS_EDIT fill:#c8e6c9
    style SUCCESS_DELETE fill:#c8e6c9
    style ERROR_DELETE fill:#ffcdd2
    style SHOW_ERROR_CREATE fill:#ffcdd2
    style SHOW_ERROR_EDIT fill:#ffcdd2
```

### 5. Restock / Purchase Flow

```mermaid
flowchart TD
    START([Staff Notice Low Stock]) --> NAVIGATE[Navigate to Raw Materials]

    NAVIGATE --> LIST_PAGE[Stock List Page]

    LIST_PAGE --> IDENTIFY_LOW{Identify Low Stock Items}
    IDENTIFY_LOW --> CLICK_RESTOCK[Click 'ğŸ“¦ Restock' Button]

    CLICK_RESTOCK --> RESTOCK_MODAL[Show Restock Modal]

    RESTOCK_MODAL --> DISPLAY_CURRENT[Display Current Stock<br/>Display Min Level]

    DISPLAY_CURRENT --> ENTER_QTY[Enter Quantity to Add]

    ENTER_QTY --> CALC_NEW[Calculate New Stock<br/>new_total = current + added]

    CALC_NEW --> ENTER_SUPPLIER[Enter Supplier Info<br/>(optional)]

    ENTER_SUPPLIER --> ENTER_COST{Enter Unit Cost?}
    ENTER_COST -->|Yes| INPUT_COST[Input Cost per Unit]
    ENTER_COST -->|No| CALC_TOTAL
    INPUT_COST --> CALC_TOTAL[Calculate Total Cost<br/>total = qty Ã— unit_cost]

    CALC_TOTAL --> ADD_NOTES{Add Notes?}
    ADD_NOTES -->|Yes| INPUT_NOTES[Enter Notes]
    ADD_NOTES -->|No| CONFIRM_RESTOCK
    INPUT_NOTES --> CONFIRM_RESTOCK

    CONFIRM_RESTOCK[Click 'Add Stock'] --> SEND_REQUEST[POST /admin/raw-materials/{id}/restock]

    SEND_REQUEST --> SERVER_VALIDATE[Validate Request]

    SERVER_VALIDATE -->|Invalid| ERROR_RESTOCK[Show Error]
    ERROR_RESTOCK --> RESTOCK_MODAL

    SERVER_VALIDATE -->|Valid| BEGIN_TRANS[Begin DB Transaction]

    BEGIN_TRANS --> CREATE_TRANS_IN[CREATE StockTransaction:<br/>- type = 'in'<br/>- quantity = added_qty<br/>- supplier = supplier<br/>- unit_cost, total_cost<br/>- description]

    CREATE_TRANS_IN --> UPDATE_STOCK_IN[UPDATE raw_materials:<br/>current_stock = current_stock + added_qty]

    UPDATE_STOCK_IN --> CHECK_THRESHOLD{Check New Status}

    CHECK_THRESHOLD -->|Still Low| KEEP_LOW[Keep: Low Stock Status]
    CHECK_THRESHOLD -->|Normal| UPDATE_NORMAL[Update: Good Status]

    KEEP_LOW --> COMMIT_RESTOCK
    UPDATE_NORMAL --> COMMIT_RESTOCK[Commit Transaction]

    COMMIT_RESTOCK --> SUCCESS_RESTOCK[âœ… Stock Added Successfully]
    SUCCESS_RESTOCK --> LIST_PAGE[Refresh List]

    style SUCCESS_RESTOCK fill:#c8e6c9
    style ERROR_RESTOCK fill:#ffcdd2
    style KEEP_LOW fill:#fff9c4
    style UPDATE_NORMAL fill:#c8e6c9
```

---

## State Diagrams

### 1. Cart State Diagram

```mermaid
stateDiagram-v2
    [*] --> Empty: Initialize

    Empty --> HasItems: Add First Item
    HasItems --> HasItems: Add More Items
    HasItems --> HasItems: Update Quantity (+/-)
    HasItems --> Empty: Clear Cart / Remove Last

    HasItems --> CheckoutModal: Click Checkout

    CheckoutModal --> CheckoutModal: Change Payment Method
    CheckoutModal --> CheckoutModal: Enter Cash Amount
    CheckoutModal --> Processing: Click Finalize

    Processing --> Success: Order Complete
    Processing --> Failed: Validation Error

    Failed --> CheckoutModal: Retry
    Success --> Empty: Clear Cart

    note right of Empty
        cart = []
        total = 0
    end note

    note right of HasItems
        cart.length > 0
        total > 0
    end note

    note right of CheckoutModal
        showPaymentModal = true
        paymentMethod selected
    end note

    note right of Processing
        isLoading = true
        Waiting for API
    end note
```

### 2. Order State Diagram

```mermaid
stateDiagram-v2
    [*] --> Pending: Order Created

    Pending --> Processing: Payment Started
    Pending --> Cancelled: Timeout / Cancel

    Processing --> Completed: Payment Success
    Processing --> Failed: Payment Failed
    Processing --> Cancelled: Cancelled

    Completed --> Refunded: Refund Requested
    Completed --> [*]

    Failed --> Pending: Retry Payment
    Failed --> Cancelled: Give Up

    Cancelled --> [*]

    Refunded --> [*]

    note right of Pending
        status = 'pending'
        Awaiting payment
    end note

    note right of Processing
        status = 'processing'
        Payment in progress
    end note

    note right of Completed
        status = 'completed'
        Stock deducted
        Receipt generated
    end note

    note right of Cancelled
        status = 'cancelled'
        No changes made
    end note
```

### 3. Product State Diagram

```mermaid
stateDiagram-v2
    [*] --> Draft: Create New

    Draft --> Active: Publish / Save
    Draft --> [*]: Discard

    Active --> Inactive: Deactivate
    Active --> OutOfStock: Stock = 0

    Inactive --> Active: Reactivate
    Inactive --> [*]: Delete

    OutOfStock --> Active: Restocked
    OutOfStock --> Inactive: Manual Deactivate

    note right of Draft
        is_active = null/false
        Not visible in POS
    end note

    note right of Active
        is_active = true
        Visible in POS
        Can be ordered
    end note

    note right of Inactive
        is_active = false
        Hidden from POS
    end note

    note right of OutOfStock
        is_active = true
        But shows "Out of Stock"
        Cannot add to cart
    end note
```

### 4. Stock Transaction State Diagram

```mermaid
stateDiagram-v2
    [*] --> StockIn: Purchase/Restock

    StockIn --> Available: Stock Added
    StockIn --> [*]: Cancelled

    Available --> StockOut: Product Sold
    Available --> StockAdjust: Manual Adjustment

    StockOut --> LowStock: Below Min Level
    StockOut --> OutOfStock: Stock = 0

    LowStock --> Available: Restocked
    LowStock --> OutOfStock: Depleted

    OutOfStock --> Available: Restocked

    StockAdjust --> Available: Adjustment Made
    StockAdjust --> LowStock: Decreased
    StockAdjust --> OutOfStock: Decreased to 0

    note right of StockIn
        type = 'in'
        Increases current_stock
    end note

    note right of StockOut
        type = 'out'
        Decreases current_stock
        (BOM deduction)
    end note

    note right of StockAdjust
        type = 'adjustment'
        Manual correction
        + or - quantity
    end note

    note right of LowStock
        current_stock <= min_stock_level
        Warning triggered
    end note

    note right of OutOfStock
        current_stock <= 0
        Critical alert
    end note
```

---

## API Sequence Diagrams

### 1. Product Search API

```mermaid
sequenceDiagram
    actor User
    participant UI as POS UI
    participant API as API Endpoint
    participant DB as Database

    User->>UI: Types in search box
    UI->>UI: Debounce input (300ms)

    alt Numeric Input (Barcode)
        UI->>API: GET /api/products/search?barcode=12345
        API->>DB: SELECT * FROM products WHERE barcode = '12345'
        DB-->>API: Product record
        API-->>UI: JSON {product}
        UI->>User: Highlight product in grid
    else Text Input (Name)
        UI->>UI: Filter local products array
        UI->>User: Show filtered results
    end
```

### 2. Complete Checkout API Sequence

```mermaid
sequenceDiagram
    actor Cashier
    participant UI as POS Frontend
    participant Route as /checkout
    participant Ctrl as PosController
    participant DB as Database
    participant BOM as BOM Service

    Cashier->>UI: Click Checkout
    UI->>Cashier: Show Payment Modal

    Cashier->>UI: Select Cash, Enter $30
    UI->>Cashier: Show Change: $4.62

    Cashier->>UI: Click Finalize Payment
    UI->>Route: POST /checkout<br/>{items, total, payment_method, cash_received}

    Route->>Ctrl: checkout(Request)

    Ctrl->>Ctrl: Validate Request
    alt Validation Fails
        Ctrl-->>UI: 422 Validation Error
        UI->>Cashier: Show Error Message
    else Validation Passes
        Ctrl->>DB: BEGIN TRANSACTION

        Ctrl->>DB: INSERT INTO orders<br/>(user_id, total_amount, payment_method, status)
        DB-->>Ctrl: order_id = 1001

        loop For Each Cart Item
            Ctrl->>DB: INSERT INTO order_items<br/>(order_id, product_id, quantity, price, subtotal)

            Ctrl->>BOM: processStockDeduction(product_id, quantity)

            BOM->>DB: Get recipes for product
            DB-->>BOM: [{raw_material_id, quantity_required}]

            loop For Each Recipe Material
                BOM->>BOM: Calculate needed = order_qty Ã— recipe_qty

                BOM->>DB: Check current_stock
                DB-->>BOM: current_stock

                alt Stock Insufficient
                    BOM->>Ctrl: Throw InsufficientStockException
                    Ctrl->>DB: ROLLBACK
                    Ctrl-->>UI: 500 Error: Insufficient Stock
                    UI->>Cashier: Show Error
                else Stock Available
                    BOM->>DB: INSERT INTO stock_transactions<br/>(type='out', quantity, reference_id)
                    BOM->>DB: UPDATE raw_materials<br/>SET current_stock = current_stock - needed
                end
            end
        end

        Ctrl->>DB: COMMIT TRANSACTION
        Ctrl-->>UI: 200 OK {order_id: 1001, success: true}

        UI->>Cashier: Show Success Toast
        UI->>UI: Clear Cart

        alt print_receipt = true
            UI->>UI: Generate Receipt HTML
            UI->>Cashier: Open Print Dialog
        end
    end
```

### 3. Product CRUD API Sequence

```mermaid
sequenceDiagram
    actor Admin
    participant UI as Admin UI
    participant Route as /admin/products
    participant Ctrl as AdminProductController
    participant DB as Database
    participant Storage as File Storage

    Admin->>UI: Click "Add New Product"
    UI->>Admin: Show Create Form

    Admin->>UI: Fill Form + Upload Image
    UI->>UI: Validate Client-side

    Admin->>UI: Click Save
    UI->>Route: POST /admin/products<br/>{product_data, image, recipes[]}

    Route->>Ctrl: store(Request)

    Ctrl->>Ctrl: Validate Request
    alt Validation Fails
        Ctrl-->>UI: Redirect back with errors
        UI->>Admin: Show Validation Errors
    else Validation Passes
        Ctrl->>DB: BEGIN TRANSACTION

        alt Image Uploaded
            Ctrl->>Storage: store('image', 'public/products')
            Storage-->>Ctrl: image_path
        end

        Ctrl->>DB: INSERT INTO products<br/>(category_id, name, price, image, is_active)
        DB-->>Ctrl: product_id = 50

        loop For Each Recipe
            Ctrl->>DB: INSERT INTO product_recipes<br/>(product_id, raw_material_id, quantity_required)
        end

        Ctrl->>DB: COMMIT

        Ctrl-->>UI: Redirect to /admin/products
        UI->>Admin: Show Success Message
    end
```

### 4. Restock API Sequence

```mermaid
sequenceDiagram
    actor Staff
    participant UI as Admin UI
    participant Route as /admin/raw-materials/{id}/restock
    participant Ctrl as AdminRawMaterialController
    participant DB as Database

    Staff->>UI: Click "Restock" on Material
    UI->>Staff: Show Restock Modal

    Staff->>UI: Enter Qty, Supplier, Cost
    Staff->>UI: Click "Add Stock"
    UI->>Route: POST /admin/raw-materials/15/restock<br/>{quantity: 100, supplier: "Fresh Farms", unit_cost: 0.50}

    Route->>Ctrl: restock($id, Request)

    Ctrl->>DB: Get RawMaterial
    DB-->>Ctrl: {id: 15, name: "Oranges", current_stock: 2}

    Ctrl->>Ctrl: Validate Request
    Ctrl->>Ctrl: Calculate total_cost = quantity Ã— unit_cost

    Ctrl->>DB: BEGIN TRANSACTION

    Ctrl->>DB: INSERT INTO stock_transactions<br/>(raw_material_id, type='in', quantity=100, supplier, unit_cost, total_cost)

    Ctrl->>DB: UPDATE raw_materials<br/>SET current_stock = 102<br/>WHERE id = 15

    Ctrl->>DB: COMMIT

    Ctrl->>Ctrl: Check new stock level
    alt current_stock > min_stock_level
        Ctrl->>DB: Update status = 'good'
    else current_stock <= min_stock_level
        Ctrl->>DB: Update status = 'low_stock'
    end

    Ctrl-->>UI: Redirect back with success
    UI->>Staff: Show Success: "Added 100 pcs of Oranges"

    UI->>UI: Refresh Stock List
    UI->>Staff: Update: Current Stock = 102 pcs
```

---

## Database Schema

### Complete ER Diagram

```mermaid
erDiagram
    %% Users
    USER ||--o{ ORDER : places
    USER ||--o{ ACTIVITY_LOG : creates

    %% Categories
    CATEGORY ||--o{ PRODUCT : contains

    %% Products
    PRODUCT }o--o{ RAW_MATERIAL : "requires (BOM)"
    PRODUCT }|--|| PRODUCT_RECIPE : "has recipe"
    PRODUCT ||--o{ ORDER_ITEM : "ordered in"

    %% Raw Materials
    RAW_MATERIAL }|--|| PRODUCT_RECIPE : "used in"
    RAW_MATERIAL ||--o{ STOCK_TRANSACTION : tracks

    %% Orders
    ORDER ||--o{ ORDER_ITEM : contains
    ORDER ||--o{ STOCK_TRANSACTION : references

    %% Order Items
    ORDER_ITEM }|--|| PRODUCT : references

    %% Stock Transactions
    STOCK_TRANSACTION }|--|| RAW_MATERIAL : references

    %% Settings
    SETTING ||--o{ SETTING : manages

    USER {
        bigint id PK
        string name
        string email UK
        string password
        enum role "admin,manager,cashier"
        boolean is_active
        timestamp email_verified_at
        timestamps created_at, updated_at
    }

    CATEGORY {
        bigint id PK
        string name
        string type "juice,smoothie,bowl,add-on"
        string icon
        string color
        boolean is_active
        integer sort_order
        timestamps created_at, updated_at
    }

    PRODUCT {
        bigint id PK
        bigint category_id FK
        string barcode UK
        string sku UK
        string name
        string description
        decimal price
        string image
        boolean is_active
        decimal cost_price
        decimal profit_margin
        timestamps created_at, updated_at
        soft_deletes deleted_at
    }

    RAW_MATERIAL {
        bigint id PK
        string name
        string unit "pcs,kg,L,tbsp"
        decimal current_stock
        decimal min_stock_level
        decimal max_stock_level
        enum status "good,low_stock,out_of_stock"
        timestamps created_at, updated_at
    }

    PRODUCT_RECIPE {
        bigint id PK
        bigint product_id FK
        bigint raw_material_id FK
        decimal quantity_required
        timestamps created_at, updated_at
        UK (product_id, raw_material_id)
    }

    ORDER {
        bigint id PK
        bigint user_id FK
        string order_number UK
        decimal subtotal
        decimal tax_amount
        decimal total_amount
        enum payment_method "cash,qris,debit"
        enum status "pending,processing,completed,cancelled,refunded"
        decimal cash_received
        decimal change_return
        boolean print_receipt
        string customer_name
        string notes
        timestamps created_at, updated_at
        soft_deletes deleted_at
    }

    ORDER_ITEM {
        bigint id PK
        bigint order_id FK
        bigint product_id FK
        integer quantity
        decimal price
        decimal subtotal
        timestamps created_at, updated_at
    }

    STOCK_TRANSACTION {
        bigint id PK
        bigint raw_material_id FK
        enum type "in,out,adjustment"
        decimal quantity
        enum status "good,low_stock,out_of_stock"
        string supplier
        decimal unit_cost
        decimal total_cost
        string description
        string reference_type "order,manual,restock"
        bigint reference_id
        timestamps created_at, updated_at
    }

    SETTING {
        bigint id PK
        string key UK
        json value
        string type "string,number,json,boolean"
        string group "general,payment,tax,receipt"
        timestamps created_at, updated_at
    }

    ACTIVITY_LOG {
        bigint id PK
        bigint user_id FK
        string action
        string model_type
        bigint model_id
        json changes
        string ip_address
        string user_agent
        timestamps created_at
    }
```

---

## Component Architecture

### Frontend Component Tree

```mermaid
flowchart TD
    ROOT[Root Component<br/>layouts/app.blade.php]

    ROOT --> AUTH[Auth Layout]
    ROOT --> ADMIN[Admin Layout]
    ROOT --> POS[POS Layout]

    AUTH --> LOGIN[Login Page]

    ADMIN --> SIDEBAR[Sidebar Navigation]
    ADMIN --> HEADER[Admin Header]
    ADMIN --> CONTENT[Content Area]

    CONTENT --> DASHBOARD[Dashboard Page]
    CONTENT --> PRODUCTS[Products Management]
    CONTENT --> MATERIALS[Raw Materials]
    CONTENT --> REPORTS[Sales Reports]
    CONTENT --> SETTINGS[Settings Page]

    DASHBOARD --> KPIS[KPI Cards]
    DASHBOARD --> TOP_PRODUCTS[Top Products Widget]
    DASHBOARD --> STOCK_WIDGET[Stock Usage Widget]

    PRODUCTS --> PRODUCTS_TABLE[Products Table]
    PRODUCTS --> PRODUCTS_STATS[Stats Cards]
    PRODUCTS --> PRODUCT_FORM[Product Form]
    PRODUCTS --> RECIPE_FORM[Recipe Form]

    MATERIALS --> MATERIALS_TABLE[Materials Table]
    MATERIALS --> MATERIALS_STATS[Stock Stats]
    MATERIALS --> MATERIAL_FORM[Material Form]
    MATERIALS --> RESTOCK_FORM[Restock Modal]

    REPORTS --> REPORT_FILTERS[Report Filters]
    REPORTS --> REVENUE_CHART[Revenue Chart]
    REPORTS --> PRODUCTS_CHART[Products Chart]
    REPORTS --> PAYMENTS_CHART[Payments Chart]

    SETTINGS --> SETTINGS_TABS[Settings Tabs]
    SETTINGS_TABS --> GENERAL_TAB[General Settings]
    SETTINGS_TABS --> PAYMENT_TAB[Payment Settings]
    SETTINGS_TABS --> TAX_TAB[Tax Settings]
    SETTINGS_TABS --> RECEIPT_TAB[Receipt Settings]

    POS --> POS_HEADER[POS Header]
    POS --> POS_MAIN[POS Main Content]

    POS_HEADER --> SEARCH[Search Bar]
    POS_HEADER --> USER_INFO[Cashier Info]
    POS_HEADER --> NOTIFICATIONS[Notifications]

    POS_MAIN --> CATALOG[Product Catalog]
    POS_MAIN --> CART_PANEL[Cart Panel]

    CATALOG --> CATEGORIES[Category Tabs]
    CATALOG --> PRODUCTS_GRID[Product Grid]

    CART_PANEL --> ORDER_HEADER[Order Header]
    CART_PANEL --> CART_ITEMS[Cart Items]
    CART_PANEL --> TOTALS[Order Totals]
    CART_PANEL --> CHECKOUT_BTN[Checkout Button]

    CHECKOUT_BTN --> PAYMENT_MODAL[Payment Modal]
    PAYMENT_MODAL --> PAYMENT_METHODS[Payment Methods]
    PAYMENT_MODAL --> CASH_INPUT[Cash Input]
    PAYMENT_MODAL --> CHANGE_DISPLAY[Change Display]
    PAYMENT_MODAL --> RECEIPT_TOGGLE[Receipt Toggle]
    PAYMENT_MODAL --> CONFIRM_BTN[Finalize Button]

    PAYMENT_MODAL --> RECEIPT[Receipt Component]
    RECEIPT --> RECEIPT_PREVIEW[Receipt Preview]
    RECEIPT --> PRINT_BUTTON[Print Button]

    style ROOT fill:#1565c0,color:#fff
    style AUTH fill:#4caf50,color:#fff
    style ADMIN fill:#ff9800,color:#fff
    style POS fill:#9c27b0,color:#fff
```

### Backend Architecture Layer Diagram

```mermaid
flowchart TB
    subgraph PRESENTATION["Presentation Layer"]
        ROUTES["routes/web.php<br/>routes/api.php"]
        VIEWS["Blade Views"]
    end

    subgraph APPLICATION["Application Layer"]
        CONTROLLERS["Controllers<br/>- PosController<br/>- AdminProductController<br/>- AdminRawMaterialController<br/>- DashboardController<br/>- SettingsController<br/>- ReportsController<br/>- ReceiptController"]
        MIDDLEWARE["Middleware<br/>- Auth<br/>- CSRF<br/>- RoleCheck"]
        REQUESTS["Form Requests<br/>- CheckoutRequest<br/>- ProductRequest<br/>- MaterialRequest"]
    end

    subgraph DOMAIN["Domain Layer"]
        MODELS["Eloquent Models<br/>- User<br/>- Category<br/>- Product<br/>- RawMaterial<br/>- ProductRecipe<br/>- Order<br/>- OrderItem<br/>- StockTransaction<br/>- Setting"]
        SERVICES["Services<br/>- BOMService<br/>- StockService<br/>- ReceiptService<br/>- ReportService"]
    end

    subgraph INFRASTRUCTURE["Infrastructure Layer"]
        DATABASE["Database<br/>MariaDB"]
        STORAGE["File Storage<br/>/storage/app/public"]
        CACHE["Cache<br/>Redis/File"]
        QUEUE["Queue<br/>Redis/Database"]
    end

    ROUTES --> MIDDLEWARE
    MIDDLEWARE --> CONTROLLERS
    CONTROLLERS --> REQUESTS
    CONTROLLERS --> SERVICES
    SERVICES --> MODELS
    MODELS --> DATABASE
    VIEWS --> CONTROLLERS

    CONTROLLERS --> STORAGE
    SERVICES --> CACHE
    SERVICES --> QUEUE

    style PRESENTATION fill:#e3f2fd
    style APPLICATION fill:#fff3e0
    style DOMAIN fill:#c8e6c9
    style INFRASTRUCTURE fill:#f3e5f5
```

---

## File Structure

```
d:\Cashier/
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ Http/
â”‚   â”‚   â”œâ”€â”€ Controllers/
â”‚   â”‚   â”‚   â”œâ”€â”€ Auth/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ LoginController.php
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ RegisteredUserController.php
â”‚   â”‚   â”‚   â”œâ”€â”€ PosController.php
â”‚   â”‚   â”‚   â”œâ”€â”€ AdminProductController.php
â”‚   â”‚   â”‚   â”œâ”€â”€ AdminRawMaterialController.php
â”‚   â”‚   â”‚   â”œâ”€â”€ DashboardController.php
â”‚   â”‚   â”‚   â”œâ”€â”€ SettingsController.php
â”‚   â”‚   â”‚   â”œâ”€â”€ ReportsController.php
â”‚   â”‚   â”‚   â”œâ”€â”€ StockTransactionController.php
â”‚   â”‚   â”‚   â”œâ”€â”€ ReceiptController.php
â”‚   â”‚   â”‚   â””â”€â”€ ApiController.php
â”‚   â”‚   â”œâ”€â”€ Middleware/
â”‚   â”‚   â”‚   â”œâ”€â”€ Authenticate.php
â”‚   â”‚   â”‚   â”œâ”€â”€ RedirectIfAuthenticated.php
â”‚   â”‚   â”‚   â””â”€â”€ RoleMiddleware.php
â”‚   â”‚   â””â”€â”€ Requests/
â”‚   â”‚       â”œâ”€â”€ CheckoutRequest.php
â”‚   â”‚       â”œâ”€â”€ ProductRequest.php
â”‚   â”‚       â”œâ”€â”€ MaterialRequest.php
â”‚   â”‚       â””â”€â”€ RestockRequest.php
â”‚   â”œâ”€â”€ Models/
â”‚   â”‚   â”œâ”€â”€ User.php
â”‚   â”‚   â”œâ”€â”€ Category.php
â”‚   â”‚   â”œâ”€â”€ Product.php
â”‚   â”‚   â”œâ”€â”€ RawMaterial.php
â”‚   â”‚   â”œâ”€â”€ ProductRecipe.php
â”‚   â”‚   â”œâ”€â”€ Order.php
â”‚   â”‚   â”œâ”€â”€ OrderItem.php
â”‚   â”‚   â”œâ”€â”€ StockTransaction.php
â”‚   â”‚   â””â”€â”€ Setting.php
â”‚   â””â”€â”€ Services/
â”‚       â”œâ”€â”€ BOMService.php
â”‚       â”œâ”€â”€ StockService.php
â”‚       â”œâ”€â”€ ReceiptService.php
â”‚       â””â”€â”€ ReportService.php
â”œâ”€â”€ resources/
â”‚   â”œâ”€â”€ views/
â”‚   â”‚   â”œâ”€â”€ layouts/
â”‚   â”‚   â”‚   â”œâ”€â”€ app.blade.php
â”‚   â”‚   â”‚   â”œâ”€â”€ admin.blade.php
â”‚   â”‚   â”‚   â””â”€â”€ auth.blade.php
â”‚   â”‚   â”œâ”€â”€ auth/
â”‚   â”‚   â”‚   â””â”€â”€ login.blade.php
â”‚   â”‚   â”œâ”€â”€ pos/
â”‚   â”‚   â”‚   â””â”€â”€ index.blade.php
â”‚   â”‚   â”œâ”€â”€ receipt/
â”‚   â”‚   â”‚   â””â”€â”€ print.blade.php
â”‚   â”‚   â””â”€â”€ admin/
â”‚   â”‚       â”œâ”€â”€ dashboard.blade.php
â”‚   â”‚       â”œâ”€â”€ settings/
â”‚   â”‚       â”‚   â””â”€â”€ index.blade.php
â”‚   â”‚       â”œâ”€â”€ products/
â”‚   â”‚       â”‚   â”œâ”€â”€ index.blade.php
â”‚   â”‚       â”‚   â”œâ”€â”€ create.blade.php
â”‚   â”‚       â”‚   â”œâ”€â”€ edit.blade.php
â”‚   â”‚       â”‚   â””â”€â”€ recipe.blade.php
â”‚   â”‚       â”œâ”€â”€ raw-materials/
â”‚   â”‚       â”‚   â”œâ”€â”€ index.blade.php
â”‚   â”‚       â”‚   â”œâ”€â”€ create.blade.php
â”‚   â”‚       â”‚   â”œâ”€â”€ edit.blade.php
â”‚   â”‚       â”‚   â””â”€â”€ restock.blade.php
â”‚   â”‚       â”œâ”€â”€ reports/
â”‚   â”‚       â”‚   â”œâ”€â”€ index.blade.php
â”‚   â”‚       â”‚   â”œâ”€â”€ revenue.blade.php
â”‚   â”‚       â”‚   â”œâ”€â”€ products.blade.php
â”‚   â”‚       â”‚   â””â”€â”€ payments.blade.php
â”‚   â”‚       â””â”€â”€ stock-transactions/
â”‚   â”‚           â””â”€â”€ index.blade.php
â”‚   â”œâ”€â”€ css/
â”‚   â”‚   â””â”€â”€ app.css
â”‚   â””â”€â”€ js/
â”‚       â””â”€â”€ app.js
â”œâ”€â”€ routes/
â”‚   â”œâ”€â”€ web.php
â”‚   â””â”€â”€ api.php
â”œâ”€â”€ database/
â”‚   â”œâ”€â”€ migrations/
â”‚   â””â”€â”€ seeders/
â””â”€â”€ tests/
    â”œâ”€â”€ Feature/
    â”‚   â”œâ”€â”€ PosTest.php
    â”‚   â”œâ”€â”€ ProductCRUDTest.php
    â”‚   â”œâ”€â”€ MaterialCRUDTest.php
    â”‚   â”œâ”€â”€ RestockTest.php
    â”‚   â””â”€â”€ ReceiptTest.php
    â””â”€â”€ Unit/
        â”œâ”€â”€ BOMServiceTest.php
        â””â”€â”€ StockServiceTest.php
```

---

*Document Version: 2.0 - Enhanced*
*Last Updated: January 11, 2026*
*Author: Claude Code*
